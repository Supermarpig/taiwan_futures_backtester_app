# 台灣股票期貨回測系統使用手冊

## 簡介

台灣股票期貨回測系統是一個專為台灣市場設計的交易策略回測平台。本系統允許用戶測試各種交易策略在台灣股票和期貨市場的表現，並提供詳細的績效分析和視覺化報告。

## 系統功能

- **資料獲取**：從 Yahoo Finance API 獲取台灣股票和期貨的歷史數據
- **回測引擎**：模擬交易執行、計算交易成本、管理倉位和計算績效
- **策略框架**：支援多種交易策略，並允許參數優化
- **視覺化展示**：提供權益曲線、回撤分析、交易分布等多種圖表

## 開始使用

### 首頁

首頁提供系統的基本介紹和主要功能入口。您可以從這裡進入策略頁面或直接開始回測。

### 策略頁面

策略頁面列出了系統中所有可用的交易策略，包括：

1. **均線交叉策略**：當短期均線上穿長期均線時買入，下穿時賣出
2. **RSI 超買超賣策略**：當 RSI 低於特定值時買入，高於特定值時賣出
3. **突破策略**：當價格突破前 N 個交易日的高點時買入，突破低點時賣出

每個策略都有詳細的說明和預設參數。點擊「使用此策略」按鈕可以直接進入回測設置頁面。

### 回測設置

在回測設置頁面，您需要設置以下參數：

- **股票/期貨代碼**：輸入您想要回測的標的代碼，例如「2330.TW」（台積電）或「TXFF」（台指期）
- **開始日期和結束日期**：設置回測的時間範圍
- **初始資金**：設置回測的起始資金
- **倉位大小**：設置每次交易的倉位大小（佔總資金的百分比）
- **手續費率**：設置交易手續費率
- **滑點**：設置交易滑點
- **策略**：選擇要使用的交易策略

選擇策略後，您可以在右側面板中調整策略的參數。每個策略都有不同的參數設置，系統會提供參數的說明和預設值。

設置完成後，點擊「開始回測」按鈕開始執行回測。

### 回測結果

回測完成後，系統會顯示詳細的回測結果，包括：

#### 回測概要

- 標的、策略、初始資金、回測期間
- 總交易次數、勝率、總淨盈虧、總報酬率、最大回撤、夏普比率等關鍵指標

#### 績效概覽

- **權益曲線**：顯示資金隨時間的變化
- **回撤曲線**：顯示風險水平
- **交易分布**：顯示獲利和虧損交易的比例
- **盈虧分布**：顯示交易盈虧的分布情況

#### 交易記錄

- 詳細的交易列表，包括交易方向、入場時間、入場價格、出場時間、出場價格和盈虧

#### 詳細統計

- 交易統計：總交易次數、獲利交易、虧損交易、勝率、盈虧比
- 盈虧統計：總淨盈虧、平均盈利、平均虧損、最大盈利、最大虧損
- 風險統計：最大回撤、最大回撤百分比、恢復因子、夏普比率
- 其他統計：年化收益率、平均持倉時間

## 策略說明

### 均線交叉策略

均線交叉策略是一種趨勢跟蹤策略，適合在有明確趨勢的市場中使用。

**參數**：

- **短期均線週期**：計算短期均線的週期，預設為 5
- **長期均線週期**：計算長期均線的週期，預設為 20

**交易邏輯**：

- 當短期均線上穿長期均線時買入
- 當短期均線下穿長期均線時賣出

### RSI 超買超賣策略

RSI 超買超賣策略利用相對強弱指標(RSI)判斷市場超買超賣狀態，適合震盪市場。

**參數**：

- **RSI 週期**：計算 RSI 的週期，預設為 14
- **超賣閾值**：RSI 低於此值視為超賣，預設為 30
- **超買閾值**：RSI 高於此值視為超買，預設為 70

**交易邏輯**：

- 當 RSI 低於超賣閾值時買入
- 當 RSI 高於超買閾值時賣出

### 突破策略

突破策略試圖捕捉價格突破後的趨勢，適合波動較大的市場。

**參數**：

- **計算區間**：尋找高點和低點的時間區間，預設為 20
- **波動倍數**：突破確認的倍數，預設為 2

**交易邏輯**：

- 當價格突破前 N 個交易日的高點時買入
- 當價格突破前 N 個交易日的低點時賣出

## 使用技巧

1. **避免過度優化**：過度優化參數可能導致策略在歷史數據上表現良好，但在實際交易中失效。嘗試使用較長的回測期間，並確保策略在不同市場環境中都能保持穩定。

2. **考慮交易成本**：在評估策略時，務必考慮交易成本（如手續費和滑點）的影響。頻繁交易的策略可能會因高交易成本而降低實際收益。

3. **風險管理**：即使是最好的策略也會有虧損的時候。設置適當的止損和倉位大小，以控制每筆交易和整體投資組合的風險。

## 系統限制

- 目前系統僅支援 Yahoo Finance 提供的數據，某些台灣特有的金融產品可能數據不完整
- 回測結果僅供參考，實際交易可能受到市場流動性、交易延遲等因素影響
- 系統不提供實時交易功能，僅用於策略回測和分析

## 未來功能

- 自定義策略功能：允許用戶創建和測試自己的交易邏輯
- 多資產組合回測：同時回測多個標的的組合策略
- 機器學習優化：使用機器學習算法優化策略參數
- 實時數據接入：提供更即時的市場數據
